<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob:; style-src 'self' 'unsafe-inline'; font-src 'self' data: blob:; img-src 'self' data:; worker-src 'self' blob:; connect-src 'self' blob:;">
    <title>当ブログのTLS対応＆SSL/TLSを巡る諸々</title>
    <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCI+PHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiByeD0iMTQiIGZpbGw9IiMxMTE4MjciLz48dGV4dCB4PSI1MCUiIHk9IjU2JSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjI4IiBmaWxsPSIjZjlmYWZiIiBmb250LXdlaWdodD0iNzAwIj5TUjwvdGV4dD48L3N2Zz4=">
    <link rel="stylesheet" href="style.css">
    <link rel="sitemap" type="application/xml" href="sitemap.xml">
    <link rel="help" type="text/plain" href="llms.txt">
    
    <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "当ブログのTLS対応＆SSL/TLSを巡る諸々",
  "description": "",
  "datePublished": "2018-07-29",
  "author": {
    "@type": "Person",
    "name": "Unknown"
  },
  "provenance": {
    "metadata": {
      "title": "当ブログのTLS対応＆SSL/TLSを巡る諸々",
      "format": "application/x.web-a+html",
      "schema": "https://masanork.github.io/srn/schemas/weba-v1.json"
    },
    "producer": {
      "name": "Sorane (SRN) SSG",
      "version": "1.0.0",
      "identifier": "did:web:masanork.github.io"
    },
    "assertions": [
      {
        "label": "srn.hmp_declaration",
        "data": {
          "assertion": "Human-Machine Parity (HMP) Guaranteed",
          "generator_hash": "unknown"
        }
      }
    ]
  }
}</script>
    
    <style>
        /* Hide by default, show based on body class */
        [data-lang-ja], [data-lang-en] { display: none !important; }
        
        .js-lang-ja [data-lang-ja] { display: contents !important; }
        .js-lang-ja span[data-lang-ja], .js-lang-ja a[data-lang-ja], .js-lang-ja i[data-lang-ja] { display: inline !important; }
        
        .js-lang-en [data-lang-en] { display: contents !important; }
        .js-lang-en span[data-lang-en], .js-lang-en a[data-lang-en], .js-lang-en i[data-lang-en] { display: inline !important; }
    </style>
    <script>
        (() => {
            const lang = (navigator.language || '').toLowerCase().startsWith('ja') ? 'ja' : 'en';
            if (lang === 'ja') {
                document.documentElement.lang = 'ja';
                document.documentElement.classList.add('js-lang-ja');
            } else {
                document.documentElement.lang = 'en';
                document.documentElement.classList.add('js-lang-en');
            }
            // Backward compatibility for simple data-i18n replacements
            window.addEventListener('DOMContentLoaded', () => {
                document.querySelectorAll('[data-i18n-ja]').forEach((el) => {
                    const ja = el.getAttribute('data-i18n-ja') || '';
                    const en = el.getAttribute('data-i18n-en') || ja;
                    el.textContent = lang === 'ja' ? ja : en;
                });
            });
        })();
    </script>
</head>
<body class="layout-article">
    <main>
        
        
        <article class="weba-article">
            
            <header>
                <h1>当ブログのTLS対応＆SSL/TLSを巡る諸々</h1>
                <div class="article-meta">
                    <span><time datetime="2018-07-29">2018-07-29</time></span>
                    
                    
                    
                    
                </div>
            </header>
            
            <div class="article-body">
                <p><a class="keyword" href="http://d.hatena.ne.jp/keyword/Google%20Chrome">Google Chrome</a>で「保護されていません」と表示されたので、遅ればせながら当ブログも<a class="keyword" href="http://d.hatena.ne.jp/keyword/TLS">TLS</a>対応することにした。<a href="http://staff.hatenablog.com/entry/2018/02/22/150000">&#x306F;&#x3066;&#x306A;&#x958B;&#x767A;&#x8005;&#x30D6;&#x30ED;&#x30B0;</a>の記事を読んで、設定画面からポチっとなとやれば済むので至極簡単。だが、これまで貯めてきた全ての<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A4%CF%A4%C6%A4%CA%A5%D6%A5%C3%A5%AF%A5%DE%A1%BC%A5%AF">はてなブックマーク</a>が全てリセットされてしまった。これは痛い！と一瞬焦ったけど、そのうち移行されるらしいので気長に待つことにしよう。にしても<a class="keyword" href="http://d.hatena.ne.jp/keyword/Facebook">Facebook</a>の「いいね」とか諸々引き継がれないし、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A4%CF%A4%C6%A4%CA">はてな</a>以外のブログを使ってれば移行自体できない訳で、だいたいサービスが対応していなければ<a class="keyword" href="http://d.hatena.ne.jp/keyword/TLS">TLS</a>対応できず、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%C6%C8%BC%AB%A5%C9%A5%E1%A5%A4%A5%F3">独自ドメイン</a>を使っていれば証明書の入手やサーバーの設定から頑張る必要がある訳で、なかなか大変そうである。昔と違ってLet's Encryptのような仕掛けもあるので、ITエンジニアであれば、ちゃちゃっと設定しちゃえよとは思うけれども、参考書を見よう見まねでWord Pressでサイト立ててみました的な人は苦労するだろう。「<a class="keyword" href="http://d.hatena.ne.jp/keyword/TLS">TLS</a>対応完全入門」「できるAOSSL」みたいな本が書店に並んだりするのだろうか。

<br />
20年ちょっと前を振り返ると、クレジットカードをやり取りする<a class="keyword" href="http://d.hatena.ne.jp/keyword/EC%A5%B5%A5%A4%A5%C8">ECサイト</a>くらいしか<a class="keyword" href="http://d.hatena.ne.jp/keyword/SSL">SSL</a>を使っていなかった。それから少し経ってパスワードのやり取りなんかも暗号化されるようになった。1990年代に<a class="keyword" href="http://d.hatena.ne.jp/keyword/SSL">SSL</a>サーバーというと<a class="keyword" href="http://d.hatena.ne.jp/keyword/Netscape">Netscape</a>をはじめとして、ライセンスだけで100万円以上もしていたからだ。<br />
ところで<a class="keyword" href="http://d.hatena.ne.jp/keyword/Netscape">Netscape</a>が潰れたのは<a class="keyword" href="http://d.hatena.ne.jp/keyword/Microsoft">Microsoft</a>が<a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows">Windows</a>に<a class="keyword" href="http://d.hatena.ne.jp/keyword/Internet%20Explorer">Internet Explorer</a>をバンドルしたからだと<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A4%DE%A4%B3%A4%C8%A4%B7%A4%E4%A4%AB%A4%CB">まことしやかに</a>いわれたが、実際のところ<a class="keyword" href="http://d.hatena.ne.jp/keyword/Netscape">Netscape</a>の収益源はブラウザよりも<a class="keyword" href="http://d.hatena.ne.jp/keyword/SSL">SSL</a>に対応した商用Webサーバーだった。ところが<a class="keyword" href="http://d.hatena.ne.jp/keyword/SSL">SSL</a>に対応した<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%AA%A1%BC%A5%D7%A5%F3%A5%BD%A1%BC%A5%B9">オープンソース</a>のライブラリとしてSSLeayが公開され、これを組み込んだ<a class="keyword" href="http://d.hatena.ne.jp/keyword/Apache">Apache</a>-<a class="keyword" href="http://d.hatena.ne.jp/keyword/SSL">SSL</a>が登場、<a class="keyword" href="http://d.hatena.ne.jp/keyword/RSA">RSA</a> Data Securityは慌ててSSLeayの作者を雇用したが、SSLeayはOpenSSLにforkして<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%AA%A1%BC%A5%D7%A5%F3%A5%BD%A1%BC%A5%B9">オープンソース</a>のまま存続した。<br />
<a class="keyword" href="http://d.hatena.ne.jp/keyword/Microsoft">Microsoft</a>が<a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows">Windows</a> NT ServerにInternet Information Serverをバンドルして<a class="keyword" href="http://d.hatena.ne.jp/keyword/SSL">SSL</a> Webサーバーを無料提供したことも、<a class="keyword" href="http://d.hatena.ne.jp/keyword/SSL">SSL</a>の<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B3%A5%E2%A5%C7%A5%A3%A5%C6%A5%A3">コモディティ</a>ー化に貢献した。<a class="keyword" href="http://d.hatena.ne.jp/keyword/Netscape">Netscape</a>はブラウザを<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%AA%A1%BC%A5%D7%A5%F3%A5%BD%A1%BC%A5%B9">オープンソース</a>化し、それが紆余曲折を経て<a class="keyword" href="http://d.hatena.ne.jp/keyword/Firefox">Firefox</a>となった。確かに<a class="keyword" href="http://d.hatena.ne.jp/keyword/Microsoft">Microsoft</a>による<a class="keyword" href="http://d.hatena.ne.jp/keyword/IIS">IIS</a>の無償提供は<a class="keyword" href="http://d.hatena.ne.jp/keyword/Netscape">Netscape</a>に対する<a class="keyword" href="http://d.hatena.ne.jp/keyword/%CA%BC%CE%C8%B9%B6%A4%E1">兵糧攻め</a>となったが、どのみち<a class="keyword" href="http://d.hatena.ne.jp/keyword/SSL">SSL</a>は<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B3%A5%E2%A5%C7%A5%A3%A5%C6%A5%A3%B2%BD">コモディティ化</a>する運命にあった。<br />
ここ数年、全てのWebサイトが<a class="keyword" href="http://d.hatena.ne.jp/keyword/TLS">TLS</a>化される背景としては、何といっても<a class="keyword" href="http://d.hatena.ne.jp/keyword/Google">Google</a>の役割が大きい。検索結果を表示する<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%A2%A5%EB%A5%B4%A5%EA%A5%BA%A5%E0">アルゴリズム</a>で<a class="keyword" href="http://d.hatena.ne.jp/keyword/TLS">TLS</a>対応サイトを優先し、今回<a class="keyword" href="http://d.hatena.ne.jp/keyword/Chrome">Chrome</a>で<a class="keyword" href="http://d.hatena.ne.jp/keyword/TLS">TLS</a>に対応していないサイトで「保護されていません」と表示するようになった。何故このタイミングでグーグルが<a class="keyword" href="http://d.hatena.ne.jp/keyword/TLS">TLS</a>を推進しているのかだが、結局のところ国家による通信傍受といったWeb閲覧に対する干渉や、犯罪者による<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D5%A5%A3%A5%C3%A5%B7%A5%F3%A5%B0%BA%BE%B5%BD">フィッシング詐欺</a>などが悪質化していることに対して、<a class="keyword" href="http://d.hatena.ne.jp/keyword/TLS">TLS</a>の利用が有効だということだ。<a class="keyword" href="http://d.hatena.ne.jp/keyword/Google">Google</a>は以前からOpenSSLにPerfect Forward Securityの機能追加を寄贈するなど、国家による干渉に対抗するためのWeb技術の発展に貢献してきた。政府による<a class="keyword" href="http://d.hatena.ne.jp/keyword/DNS">DNS</a><a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D6%A5%ED%A5%C3%A5%AD%A5%F3%A5%B0">ブロッキング</a>や<a class="keyword" href="http://d.hatena.ne.jp/keyword/DNS">DNS</a>を通じたWeb閲覧の監視を無効化する<a class="keyword" href="http://d.hatena.ne.jp/keyword/DNS">DNS</a> over <a class="keyword" href="http://d.hatena.ne.jp/keyword/HTTPS">HTTPS</a>にも、いち早く対応している。<br />
<a class="keyword" href="http://d.hatena.ne.jp/keyword/TLS">TLS</a>で安全なWebを実現できるかというと、いろいろと課題が残ってはいるけれども、昨今のセキュリティ環境の変化を考えれば必要な対策であることは確かだ。URLが変わってしまうと様々なサービスに影響があったり、役所をはじめとして<a href="https://this.kiji.is/394731500563694689">&#x6025;&#x6FC0;&#x306A;&#x5909;&#x5316;&#x306B;&#x8FFD;&#x3044;&#x3064;&#x3044;&#x3066;&#x3044;&#x306A;&#x3044;</a>実情が報じられている。この記事を配信した<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B6%A6%C6%B1%C4%CC%BF%AE">共同通信</a>は<a class="keyword" href="http://d.hatena.ne.jp/keyword/TLS">TLS</a>化を終えているが、配信した新聞各社のWebサイトは「保護されていません」という表示のまま役所の対応を批判する椿事もあった。<br />
<a href="https://www.whitehouse.gov/sites/whitehouse.gov/files/omb/memoranda/2015/m-15-13.pdf">&#x7C73;&#x56FD;&#x653F;&#x5E9C;&#x306F;2015&#x5E74;8&#x6708;&#x306B;2016&#x5E74;&#x4E2D;&#x306B;&#x5BFE;&#x7B56;&#x3092;&#x7D42;&#x3048;&#x308B;&#x3088;&#x3046;&#x6307;&#x793A;</a>したが、<a href="https://www.nisc.go.jp/active/general/pdf/kijyun30.pdf">&#x65E5;&#x672C;&#x306F;&#x4ECA;&#x9031;&#x767A;&#x8868;&#x3055;&#x308C;&#x305F;&#x653F;&#x5E9C;&#x6A5F;&#x95A2;&#x7B49;&#x306E;&#x60C5;&#x5831;&#x30BB;&#x30AD;&#x30E5;&#x30EA;&#x30C6;&#x30A3;&#x5BFE;&#x7B56;&#x306E;&#x305F;&#x3081;&#x306E;&#x7D71;&#x4E00;&#x57FA;&#x6E96;&#xFF08;&#x5E73;&#x6210;30&#x5E74;&#x5EA6;&#x7248;&#xFF09;</a>で初めて方針を打ち出した。政府の<a class="keyword" href="http://d.hatena.ne.jp/keyword/TLS">TLS</a>対応を巡っては<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=870185">GPKI&#x306E;&#x30B5;&#x30FC;&#x30D0;&#x30FC;&#x8A3C;&#x660E;&#x66F8;&#x304C;Firefox&#x3067;&#x6B63;&#x5F0F;&#x306B;&#x62D2;&#x5426;&#x3055;&#x308C;&#x308B;</a>など、このところ対応が後手に回る事案が続いている。<br />
技術的に正しい<a class="keyword" href="http://d.hatena.ne.jp/keyword/TLS">TLS</a>運用は、日本において政府だけでなくベンダーもユーザー企業も割とできていないところが多いことには理由がありそうな気がする。Webサイトの運用を外部に委託しており予算確保や案件化の小回りが利かないこともあれば、グーグルのような個別ベンダーの方針に振り回されることを潔しとしないプライドもあるのだろう。グローバルで<a class="keyword" href="http://d.hatena.ne.jp/keyword/Web%A5%B5%A1%BC%A5%D3%A5%B9">Webサービス</a>を提供する企業が少なく、中国や中東、アフリカの実情に疎いこともあるのだろうか。<br />
いまさら<a class="keyword" href="http://d.hatena.ne.jp/keyword/%C3%CE%BA%E2">知財</a>本部が<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D6%A5%ED%A5%C3%A5%AD%A5%F3%A5%B0">ブロッキング</a>の話を蒸し返したり、情報も発想も周回遅れなのが残念だ。全てが暗号化される時代に中間者による情報の統制は難しくなった。いまや米国も中国もエンドポイント（端末）での統制を強化している。プラットフォームもハードウェアも持っていない日本には打つ手がなくなりつつある展開だ。<br />
例えばブラウザや<a class="keyword" href="http://d.hatena.ne.jp/keyword/Java">Java</a>の仕様変更によって政府や<a class="keyword" href="http://d.hatena.ne.jp/keyword/%BC%AB%BC%A3">自治</a>体の提供する電子申請が動かなくなったり、GPKIの<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B5%A1%BC%A5%D0%A1%BC%BE%DA%CC%C0%BD%F1">サーバー証明書</a>を使った多くの政府系Webサイトが<a class="keyword" href="http://d.hatena.ne.jp/keyword/Firefox">Firefox</a>で遮断されて手も足も出ない実情を見れば、制御がエンドポイントに移りつつあることによる影響を実感できる。サーバーや足回りこそ国内で完結してもシステムの制御は奪われたままだ。<br />
テロ対策で電子メールや通信の監視は行いつつ軍でTorを配布しグローバル企業が情報の自由な流通に資する技術を展開し続ける米国であれ、世界でいち早くネットに検閲を持ち込んで潤沢な資源を投入してSDNをはじめとした最新技術を駆使してネットを統制しようとする中国であれ、立場や方針は違えど当事者として最先端の取り組みを行って人を育て世界に影響を与えている。それに引き換え日本は各国における2000年代半ばの取り組みをいまさら引っ張り出して碌に検証もせず、できることなら<a class="keyword" href="http://d.hatena.ne.jp/keyword/ISP">ISP</a>なり民間事業者にただ乗りしようと考えているようだ。<br />
それは相対的に平和で人材の<a class="keyword" href="http://d.hatena.ne.jp/keyword/%CE%AE%C6%B0%C0%AD">流動性</a>が低いことの裏返しかも知れないが、自由でもなければ技術の発展もない中途半端な立ち位置となるだろう。どのみち投入される資源の量で米国にも中国にも勝てない日本なのだから、自由で住み心地が良いとか、爛熟した文化なりで才能を集めるしかない。本気でコンテンツの輸出を考えるのであれば、日本国内でのアクセスの遮断よりもサイトの閉鎖のための法整備と法執行能力の拡充を目指すべきだが。このままでは法の域外適用や民間企業の実質的な影響力、法執行機関の国際執行協力においても、米欧だけでなく中国の後塵を拝することになる。<br />
今はまだ大して売上に影響しない<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B3%A4%C2%B1%C8%C7">海賊版</a>サイト程度の問題で済んでいるけれど、DarkWebや仮想通貨が当たり前のように普及すると、もっと困ったことが山ほど起こり、法で禁じただけでは実質的に規律できない事態を招来する。起こる事案が技術を駆使して国境を超えるならば、法執行当局も実情を理解し技術を知悉した人材を集めて経験を積み、国境を超えた連携を図らなければ手も足も出ない。<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B3%A4%C2%B1%C8%C7">海賊版</a>サイト問題は、そういった現実と向き合い対策を考える上で絶好の機会にすべきところ、黴の生えた対策で業界のガス抜きさえできれば満足だとしたら残念だ。</p>

            </div>
            
        <footer class="doc-verification no-print" style="margin-top: 5rem; padding-top: 1rem; border-top: 1px solid #eee; font-size: 0.85rem; color: #666;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <div></div>
                
                <details>
                    <summary style="cursor: pointer; display: flex; align-items: center; gap: 0.5rem; font-weight: 600;">
                        <span>✓</span>
                        <span data-i18n-ja="発行元による真正性の証明" data-i18n-en="Issuer Authenticity Proof">発行元による真正性の証明</span>
                    </summary>
                    <div style="padding: 1rem 0;">
                        <pre style="background: #1e1e1e; color: #d4d4d4; padding: 1rem; border-radius: 6px; overflow-x: auto; font-size: 0.8rem; line-height: 1.4;">{
  "@context": [
    "https://www.w3.org/2018/credentials/v1"
  ],
  "type": [
    "VerifiableCredential",
    "WebADocument"
  ],
  "issuer": "did:web:masanork.github.io",
  "issuanceDate": "2026-01-01T06:25:53.938Z",
  "credentialSubject": {
    "id": "did:web:masanork.github.io/2018-07-29-tlsssltls",
    "name": "当ブログのTLS対応＆SSL/TLSを巡る諸々",
    "contentDigest": "a216e231107b54da773ba7663901361771a127226bea1de8999cb89272d146bb"
  },
  "proof": [
    {
      "type": "DataIntegrityProof",
      "cryptosuite": "eddsa-jcs-2022",
      "verificationMethod": "did:web:masanork.github.io#build-1767248589672-ed25519",
      "proofPurpose": "assertionMethod",
      "created": "2026-01-01T06:25:53.938Z",
      "proofValue": "znVGudHxoWJN4vGHhKS53YczLUdirAxbg4gxyePHHr1j7iMBSVbz7LzqeRrMw5W8AkudAe4SNkBXfW58AG1aurWb"
    },
    {
      "type": "DataIntegrityProof",
      "cryptosuite": "ml-dsa-44-jcs-2025",
      "verificationMethod": "did:web:masanork.github.io#build-1767248589672-pqc",
      "proofPurpose": "assertionMethod",
      "created": "2026-01-01T06:25:53.938Z",
      "proofValue": "z2oP9KHNfJsNTn9GdEr8AU9TbYWqWE2WCgWEfTZbRXMJx4ix7Qnmk1FR6aVpv4AEbNCnkom4b4gB1rEdm4b6wXzSKnxNMdBxqVzxqWnxoJSdysWyWBQC6bkbDCJvgaKZz7HrAqz8voBWvAeGBUjUL6hSUAsSavPMejCzGfFmGybQdYk7Lyhahs53yPVsbU3fxmVXHWSd5UdfBq9sYpTNGku2jg8AgBy4tFb8SxiLHYYXQQ4pQzqoV94A8TwWsPMWWp12dZ1R9Z4TYeGnyXVQ2vJqccDmwViu5CEZo9Ge7wbdLbo3c2shsTe28nX1PdXRUzjmZZMHhqMJQYzWXLD8mC9YDMTdwRn5gcJa62Kc6rcoPuD8HxjmUBo1c1K6Va1YMXjCWJUPC2ki7yXBqPpsHDDL3E6qjuRnVcc5QAWykyjDqhkbpu1S1K9PNJw1bZTr29rckM3hc4r3FVWSkfUK3VS4pDFSveRyPtYS7caFw7vugrSiCrjs93frCpdyt4uTcYrZNdGbwzX782yYwgkqDeExsixpoUkw4wMunBCAYffBH9Rhk1fDFWYtYy6hM16izvS31CwzBERJyQciFz5M377FPXMddGv5r94UW18TGnEeewjpMBotojUEwbhf9ffWp8hJfxWMtYDFcKdyRbwktBNeUULUjB5vadMw5kWXUuZFmngZoBpwbn4p86SRGcEGM2YCg4CHzCVDc4DSWnwWJSyF4NkKBzqaY13BTDtXPdjw6GExPJLnbKd52etfb1pmFUgfDc8hkSMHsaEhRGdG65av6YarVqn6zQCrzM4ziakEQcVEnwXobcVPz2JVezMCrL9HRATLrJpBpXCnfuiMysgCwxEdCsZmCU1mFsk8udgpLoUjb4YvmTy6dG77wTKrL1rdKmAMuyVNmGJkzuyCmm8LPMiHUSAtfGdXVCPmJ1yWbAHQvH5Dzr3SiFBcravpoL8xKqHWF4k58HeFLRcizuG5ANa7hzA61wWWiK9HizLEooMmhivMtcqCcjbPCibwPS3dYk3ptA8vrETuAna8jMqdcLqQwnKQ8weUNMGr97PmRXQpPdgsPv3XoA4NjtDdJKpHq9h9hkW8kHfESSfXamNd7S7RPtsEGG6fccsMXju7pmisVfxsJtRSXuRop6Q7VYkaMF6af1qCFvczU7pwThD1K1TwUJkF4zAdQpE9uQTxE6AAKspNrUUEQxXhtDaes3NGp11wSrTQW6yGGQsTxHJDU3JYpJqkgpNLNCcZ4SEDX1FCYsBHe8viYbQnPg2JDimCgjLkP8vqPcVdWKkvsgTEGvXJmqVQxAJA9crfXcZGY7tvXEeXRpcMVjUGLak4BN7x1iLAEQrgahvHgNaJmVYtxRTLn7v3BaLh75nTXFgKXPE8aT1kccMtrgB412srY5V6TJunz5yUoDSwwMhqs7zQscq2seJTSEQ2UPZdcBmYmnqYuwqsq1Z1EQ91qg2SW5zLugxtFGGRPagirzd9S6irwrRwbzRf3L44D9fdhuyT5ETwifDioyN6aXgGTEasurypcv8tL9yaPY9o8GRYQmpWgeCTmzLpo6vE7YMYK1orzZmz4aWixThZdGbva8TxaLgErLbXvFFKaQFEG2uFdXndZZ76W3ggXymeMZqXP68Hyszo71dgQTFDPK2CvaN5MjHp415m8WKmbKQcTCp627JB6LFk3JkKrwCejJjYMYx9HaVU65t1i7xTw5uqYQ9xdkSxfTKaS8yw7jL6byBQgXhHjb972f9W8GrUcHHz3W5yNTGaSD7RVM9aiyVwmhNVUUQoj7NAwxR1nAcYv6Z5njGDibpcT6dQnHMpbxyCwCnhtL4JK3XnBwHvzfbL2rMz3Z7YcPjq4EgxsBTpHeREzG1KE4jGWBPSymrVTjgvhBnGPsqiv3N9p3UsVV9PtSQkwyS9vJAv8SCdgwc7ZcDYHm4k2UkeGj8Sd1LZZeDxG9hUu8D96ayddg3MESUNQokNyKmZj4LjMVWmnb1yE1UCkDEtcjTi6aRog3Dfgn3MZ36TmYtf5hTHXC4xuqZ9TfUHC7Y8SvjP1BuFEzv4uKPVtboGMo7aHxaSdcD9kuTnyKcumHNHNAp871CTBhXb6MqcocsvqJAFjexbtv7dVNeqYHmDPn5stx2aFJUf4obydZwVgia1Zyg8kfxwYYjKgqLFiaoijvYdmBpdW1ows1cDKehq72RqdC49cLLr8HmA7EpmxChUqbD4RM51XTbYZttqTAXs7HN1LBzcqpLHuUaShVPDCTQQnPxtu3Xkf1ZKX6qfy5TvvgFD9c7FyBt23ReUPt7xuCybYh7gvJ3Mpu8nwUQkbhkY2LDB6AQJAmWj8YZGBvGhHLzBF6q5xwHjmksw3KvGAgBYiViQeipb9qmfE5cnjh1RRKcuRvErMknYN7hVxQqiNTqjPuzLp62zczFyMk6gBu5WsFCS4FYWJtqWPo62RDXEmUq3p7jdj9KNJhv1QbTNXdZcoyXieEQAZzg9Nb2gh8ojGK8bGvjk4W2UGN2Nnu2WwTwNSXceQbjxyPupt17Hq5yWGWmFHnopzuy2yapGRozJTkCydUS4vb6jmQL4Xfk94HfJ5DD5StZJfdFMhVgMfarb28gqf7Zq2wrt5fwv5Gn8pqy55WW7a7R8bREd1MBij9wcRGougQDgpXRHBNdpKiTaWxHKTtp5puNrFR15NW3ZruYN3RrVzT3tTCswg4icWn36L8ZoS9kug2Sdki8Ehma5Ur4cChKYpchhuqHkqa3p9fFuCM4vDXdMw7EmjDfEQf5jbc7Wz6QFkYYKE5QqMHevB62mT7Bo2WAJnmFy2vS2k6RjuBVGy4hhJRTfJHppd3hhk5Qjryg7RoSStjtVMtR4dv5Dw5z66X7LHXVmTj4Pgrvi6Qh4mKdxeJXQqQVENKX6ofjqRqCGxGxtnYrAQ2y1mGpBJAWuqcyVaaTkvUXAyfzkMwiq9zDzVaNZJPYqmcr7uMmQyQwPoT9hcWSjjLDLm2w7XyomxV6WK7FiXZf3uak5aDGZwh4TW2mxpVxBFy6rGfj3Faz9BND5AG3ZbEYragv7bWosStSKFdtoKrnG1jsW4XK76uj2qk9zwLp88JTm2BththVpNvKQPyhraRz1yYRsGC5KwVYtWPN5w2c8XQEE6tUe5p4V5dWhrc4PuZ3F98bQHE9VbAutn4LV2cDmYUpbtRrxNVv62BMcRPotwojNEpznu8KjYaRpgYfNB6rTUSPY8HaYShURnaZfn929CWTi7oWeyDZEx2LNf3AFxsoCsRaT6gUmsnpuwhN4udni9a4GrepHeC"
    }
  ]
}</pre>
                    </div>
                </details>
                
            </div>
        </footer>
    
        </article>
        
    
    </main>

<script type="application/vnd.weba+trust-store" id="weba-trust-store">
{
  "didDocuments": [
    {
      "@context": [
        "https://www.w3.org/ns/did/v1",
        "https://w3id.org/security/suites/jws-2020/v1"
      ],
      "id": "did:web:masanork.github.io",
      "verificationMethod": [
        {
          "id": "did:web:masanork.github.io#root-ed25519",
          "type": "Ed25519VerificationKey2020",
          "controller": "did:web:masanork.github.io",
          "publicKeyHex": "e2d4597c3df793b9d9f9e35ccc9be43572c8e433127b02ee842a00273b64deae"
        },
        {
          "id": "did:web:masanork.github.io#build-1767404773349-ed25519",
          "type": "Ed25519VerificationKey2020",
          "controller": "did:web:masanork.github.io",
          "publicKeyHex": "4b298808a3b88a3d8269001643e696fabdc1d0feaa749203f29488651108dca1"
        },
        {
          "id": "did:web:masanork.github.io#build-1767404773349-pqc",
          "type": "JsonWebKey2020",
          "controller": "did:web:masanork.github.io",
          "publicKeyJwk": {
            "kty": "PQC",
            "crv": "ML-DSA-44",
            "x": "UUYOnm76NJOGIEbt3IKAPiNhfF9Um-gr2PLmwyplpA-jSLDmWK2kDmfoFW4b1zzBYEDU_yk7kLS5u8sB-nvlw_7exw-mVLKypnqu-B_zk_--GNlsDIjdMa_WQwL4h-F0to-wmN7iry8kcKsK89oTyxj8l7vZMCJTHFcEzAGqledOxLqR8XK5n9yj1ur8DtDQyyl1JhNJwBSHHBVyQiBdk80EQ1D7BL40KkKansuHdP_TQL0aEx8IoXjHVkvUv6x7ZOCEJO8IF43bSOa9x6BaLZX6wfltsDxXlo5_vC1ceKcfQ1OY1QiP0HnsvEdPBddY7HHcPmNvHg4DauqyKt0vIxxmOJ9jQijaarkQY0LRHPUNDlwDvewOL9lEzupRrAYF7CRbRCq9HuUgi1LYTg9L7SEfNGC2WDjtHJhEZ3aPTO1Q1Ja_mQnBvNoNj1KJ2KI97OkYre0v9XJRNWefe-SDG6MksMxo_Fwu177KFxC0vCJxU9y8rJLdtkFw5UpR89hrDNsttdI6yCJNNOxR5zHW-ab4eneOkOHGGZXZt1r0a0loDX4wA29HNtg-3hl-0a2uxG54U-nQI4bxvNeYWQHJcYczB9Hx9U9UTnJ4eCEObOWh3KvY0io4ZAd91Y3BUsQJauKXH84Wus-9cgypgWBSpQM-0mEehVxPl6DMqfiH8S2Yi6GKyTcH2jOJreIWt7GtlNPN8XI9r8LWikuxk5wEUyzLF60UIXSxeaj3Jj_7YA_XZqMTfUbVtMZxijQz4jqOOvKJBZzw_BixRukld-LjR_rfHlgCh6c2ruJhs599Zvwe65judSPzttLU0BOGip0lTCw2bP8ivwfeKqemK_8E4DzYn4yLPLAgQ42fhbE-BsuQGu19QQTJ8D3HsecnoyDMTXzaZPATI9VxWu951gZI85RikkEFX06PDbBfWN9gJOE0xm6N1U-lQaIY-H4yCBWMHHcb_0HMmfJ2wCQRIZ1kZCVsDbXEZMGRT8s1hnS9DqHPmpZOR7yOHdGjpNT2QaqGVpI2CRsL_G24egMV6GC-1ZEhQnH5C75WDyspqDpu84IO_io_PugCatPQhmjNA4kJgQRbKOn7SQ8rnK0L7Zif9-D8x0dAMrP_AVC5Unxxu4T9A3Fyo6Hi6lcD5cim3kVwPlte_EfKpbCjeX0z5zfN-mOXcsUgKQoYU2B-QJb2PpLjjRivBerUOxK-MA1YKhWTE2D7eYG44TXAfQP-QGWihAbvf9vQJC1q24OTZC7KlDFXZ9GPiWmBf6p0uxfP78SNuMgRbsczPuCJOooo6EHdJ_NeX31O-FtXmtJ9jE11hu5rA0f08Qqi-ypby5LOTR8BFrw9pQlXicIB45JFKZUhVmIuAcq4N6Ou1Fo5T_0r7ktEXGYtuXZwqcDkio_gunQQ68WxmXSm_Ao2mwTb5bsx88f5BM7KfBe0UMyvBWoPbowJRBfltsoRfec8Ct7OgRyEr-rjqrk7GPDwtFF75i4gO0E3QvZ_NaQO8cGtwwa4X1ifDwvHIvoc71lXH__Fh_oURqbtK-FvGsC6mROej7KG5bzJZzn6JtBZNXozA96xjA2nTVVuDn8xYORHfUX4LOo1h-jJJPdXV7ogKaA-XwvmMh1iPjMGTHaORfBQp9mITW56LYIpl2DzF1m0Ow70PaYRXsUPpuuDemC_Yodxste9tHKAYL610qkfWtrl2H3HEyI3lKcZNVEwHyJewGhM92zg2jIWBKdsr6l4sbtzBOst5g"
          }
        }
      ],
      "assertionMethod": [
        "did:web:masanork.github.io#root-ed25519",
        "did:web:masanork.github.io#build-1767404773349-ed25519",
        "did:web:masanork.github.io#build-1767404773349-pqc"
      ]
    }
  ]
}
</script>

<script type="application/vnd.weba+context-chain" id="weba-context-chain">
[
  {
    "prevHash": null,
    "event": {
      "type": "Genesis",
      "timestamp": "2026-01-01T06:25:53.971Z",
      "payload": {
        "issuer": "did:web:masanork.github.io",
        "payloadHash": "768834098926b0961fb1a4b6072261be1b6bcd6cc7746896073d1a2f2f785d0a",
        "metadata": {}
      }
    },
    "eventHash": "84811bd7b753756c76092edbae8126f90fccb9897cad03cda1b60348b1fb0aae",
    "chainHash": "45aedfe1bf490f5f17b83200802806bfdee678260dc9b8af1b64b88b798844f5"
  },
  {
    "prevHash": "45aedfe1bf490f5f17b83200802806bfdee678260dc9b8af1b64b88b798844f5",
    "event": {
      "type": "L4Rebuild",
      "timestamp": "2026-01-01T13:26:40.401Z",
      "payload": {
        "buildId": "build-1767273882497"
      }
    },
    "eventHash": "7ea5dd6e04a0c08bbb899e2e9350beaa0840dfd5e0e37cbafe02b232c7512136",
    "chainHash": "a94c5e21598a284d1040be53eae45ce47233831ea0aff2244ec9c2c5a63978a8"
  },
  {
    "prevHash": "a94c5e21598a284d1040be53eae45ce47233831ea0aff2244ec9c2c5a63978a8",
    "event": {
      "type": "L4Rebuild",
      "timestamp": "2026-01-01T13:31:08.743Z",
      "payload": {
        "buildId": "build-1767274141826"
      }
    },
    "eventHash": "02a73e60c28c0ca3251946dec07163e968d0ec2562a82f137c3604170848f256",
    "chainHash": "60723275a30e250bd161dbd1e8daee8a904162e92568e76bd18cf561166b283a"
  },
  {
    "prevHash": "60723275a30e250bd161dbd1e8daee8a904162e92568e76bd18cf561166b283a",
    "event": {
      "type": "L4Rebuild",
      "timestamp": "2026-01-01T13:36:00.721Z",
      "payload": {
        "buildId": "build-1767274412824"
      }
    },
    "eventHash": "acb9adea14167e113bed3c89b7ee6160ac3cbd4ff9af7537c4c9394788b924b3",
    "chainHash": "c876064854678854b98bed0f2b5bb1da5de4042852d7983a8f6e7b0f97d73ff9"
  },
  {
    "prevHash": "c876064854678854b98bed0f2b5bb1da5de4042852d7983a8f6e7b0f97d73ff9",
    "event": {
      "type": "L4Rebuild",
      "timestamp": "2026-01-03T00:17:25.438Z",
      "payload": {
        "buildId": "build-1767399336697"
      }
    },
    "eventHash": "f85a6a86a7e7cf5bf70b564036888fb91e3d4a86715399ba1e47dafc0c52cc0d",
    "chainHash": "6dd307ed0d1a9d5572cab61677377c03076c779d29349824e3de0d45afe70ae6"
  },
  {
    "prevHash": "6dd307ed0d1a9d5572cab61677377c03076c779d29349824e3de0d45afe70ae6",
    "event": {
      "type": "L4Rebuild",
      "timestamp": "2026-01-03T01:49:23.032Z",
      "payload": {
        "buildId": "build-1767404773349"
      }
    },
    "eventHash": "af531845a8aa1b4857812f8f0ea5896dbda14ca9ddc72fc97195912e148ca99f",
    "chainHash": "dc4cbd624152f3363222a45df6d90fd43418e5d3e7f7c648fcb90f50610aaf42"
  }
]
</script>
<script type="application/vnd.weba+container-signature" id="weba-container-signature">
{
  "@context": [
    "https://www.w3.org/2018/credentials/v1"
  ],
  "type": [
    "VerifiableCredential",
    "WebAContainerSignature"
  ],
  "issuer": "did:web:masanork.github.io",
  "issuanceDate": "2026-01-03T01:49:23.101Z",
  "credentialSubject": {
    "id": "did:web:masanork.github.io/2018-07-29-tlsssltls#container",
    "containerHash": "818760f8840c72db88df4dd72ca4bd130e321b54b5aaffdcf42f5e082bdc2ad4",
    "buildId": "build-1767404773349",
    "latestContextHash": "67edef6790036d342c55bf2df266f45fd9380e144cff7221d927dca0d0d68b73"
  },
  "proof": [
    {
      "type": "DataIntegrityProof",
      "cryptosuite": "eddsa-jcs-2022",
      "verificationMethod": "did:web:masanork.github.io#build-1767404773349-ed25519",
      "proofPurpose": "assertionMethod",
      "created": "2026-01-03T01:49:23.101Z",
      "proofValue": "z3UQ8L3n1LFw1pv1tDwxFN7utuiYHHNRYbUWWx539wYgUFNHFZfDt6XnbtbmzTUQjtfKPdCNCUrAyD8fnpvDQt7M8"
    },
    {
      "type": "DataIntegrityProof",
      "cryptosuite": "ml-dsa-44-jcs-2025",
      "verificationMethod": "did:web:masanork.github.io#build-1767404773349-pqc",
      "proofPurpose": "assertionMethod",
      "created": "2026-01-03T01:49:23.101Z",
      "proofValue": "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"
    }
  ]
}
</script>
<!-- Web/A L1 Manifest & Blobs -->
<script>window.__WEBA_MANIFEST = {"templateDigest":"","blobs":[],"createdAt":"2026-01-03T01:49:23.203Z"};</script>
<script type="module">
(async function() {
  const m = window.__WEBA_MANIFEST;
  if (!m || !m.blobs) return;
  
  const processBlob = async (b) => {
    const el = document.getElementById('weba-blob-' + b.digest.split(':')[1]);
    if (!el) return null;

    const bin = atob(el.textContent.trim());
    const ui8 = new Uint8Array(bin.length);
    for (let i = 0; i < bin.length; i++) ui8[i] = bin.charCodeAt(i);
    
    if (b.mediaType === 'application/x-gzip' || b.id.endsWith('.gz')) {
      const stream = new Blob([ui8]).stream().pipeThrough(new DecompressionStream('gzip'));
      return await new Response(stream).arrayBuffer();
    }
    return ui8.buffer;
  };

  const sortedBlobs = [...m.blobs].sort((a, b) => {
    const score = (type) => type.includes('font') ? 1 : (type.includes('wasm') ? 2 : 3);
    return score(a.mediaType) - score(b.mediaType);
  });

  for (const b of sortedBlobs) {
    if (b.mediaType.includes('font') || b.id.startsWith('font-')) {
      const data = await processBlob(b);
      if (!data) continue;
      const family = b.id.replace('font-', '');
      const blobUrl = URL.createObjectURL(new Blob([data], {type: 'font/woff2'}));
      const css = "@font-face { font-family: '" + family + "'; src: url('" + blobUrl + "') format('woff2'); font-display: swap; }";
      const style = document.createElement('style');
      style.textContent = css;
      document.head.appendChild(style);
    } else if (b.mediaType.includes('javascript') || b.id.startsWith('js-')) {
      const data = await processBlob(b);
      if (!data) continue;
      const code = new TextDecoder().decode(data);
      const blobUrl = URL.createObjectURL(new Blob([code], {type: 'application/javascript'}));
      const script = document.createElement('script');
      script.type = 'module';
      script.src = blobUrl;
      document.body.appendChild(script);
      if (b.id === 'js-mermaid' && window.mermaid) window.mermaid.initialize({ startOnLoad: true });
    }
  }
})();
</script>
</body>
</html>